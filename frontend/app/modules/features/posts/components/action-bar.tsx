type ActionBarProps = {
	test?: string;
	onClick?: () => void;
	isLiked?: boolean;
	setIsLiked?: (liked: boolean) => void | Promise<void>;
	isBookmarked?: boolean;
	setIsBookmarked?: (bookmarked: boolean) => void | Promise<void>;
	isCommentOpen?: boolean;
	setIsCommentOpen?: (open: boolean) => void;
	commentsCount?: number;
	likesCount?: number;
	// Feature flag to show/hide bookmark icon in ActionBar
	showBookmarkIcon?: boolean;
	// Define any props needed for the ActionBar component
};

function ActionBar(props: ActionBarProps) {
	return (
		<div className="flex px-2.5 w-full px-[0.625rem] items-start gap-[0.8125rem]">
			<div
				className="flex items-center gap-[0.3125rem] cursor-pointer"
				onClick={() => {
					const newLiked = !props.isLiked;
					props.setIsLiked?.(newLiked);
				}}>
				{props.isLiked ? (
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="19"
						height="17"
						viewBox="0 0 19 17"
						fill="none">
						<path
							d="M17.4167 5.63518C17.4167 6.92395 16.9219 8.16177 16.0381 9.07738C14.0041 11.1859 12.0312 13.3844 9.92111 15.4164C9.43741 15.8754 8.67013 15.8586 8.20733 15.3789L2.12813 9.07738C0.290623 7.17267 0.290623 4.09769 2.12813 2.19298C3.9837 0.269544 7.00662 0.269543 8.86218 2.19298L9.08314 2.42201L9.30397 2.1931C10.1937 1.27042 11.4054 0.75 12.6711 0.75C13.9368 0.75 15.1484 1.27037 16.0381 2.19298C16.9219 3.1087 17.4167 4.34647 17.4167 5.63518Z"
							fill="#FFCF70"
							stroke="#FFCF70"
							strokeWidth="1.5"
							strokeLinejoin="round"
						/>
					</svg>
				) : (
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="19"
						height="17"
						viewBox="0 0 19 17"
						fill="none">
						<path
							d="M17.4167 5.63518C17.4167 6.92395 16.9219 8.16177 16.0381 9.07738C14.0041 11.1859 12.0312 13.3844 9.92111 15.4164C9.43741 15.8754 8.67013 15.8586 8.20733 15.3789L2.12813 9.07738C0.290623 7.17267 0.290623 4.09769 2.12813 2.19298C3.9837 0.269544 7.00662 0.269543 8.86218 2.19298L9.08314 2.42201L9.30397 2.1931C10.1937 1.27042 11.4054 0.75 12.6711 0.75C13.9368 0.75 15.1484 1.27037 16.0381 2.19298C16.9219 3.1087 17.4167 4.34647 17.4167 5.63518Z"
							stroke="#555555"
							strokeWidth="1.5"
							strokeLinejoin="round"
						/>
					</svg>
				)}
				<p className="text-[#555] text-xs">{props.likesCount ?? 0}</p>
			</div>
			{props.isCommentOpen ? (
				<div
					className="flex items-center gap-[0.3125rem]"
					onClick={() => props.setIsCommentOpen?.(!props.isCommentOpen)}>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="21"
						height="20"
						viewBox="0 0 21 20"
						fill="none">
						<path
							fillRule="evenodd"
							clipRule="evenodd"
							d="M2.014 9.02668C2.01294 7.40139 2.57748 5.8264 3.61077 4.57186C4.64405 3.31732 6.08168 2.46143 7.67705 2.15101C9.27241 1.8406 10.9261 2.095 12.3544 2.87058C13.7827 3.64616 14.8966 4.89458 15.505 6.40168C15.6057 6.64577 15.7988 6.84014 16.0422 6.94238C16.2857 7.04462 16.5597 7.04643 16.8045 6.94741C17.0492 6.84839 17.2449 6.65659 17.3488 6.41384C17.4527 6.1711 17.4563 5.89712 17.359 5.65168C16.8964 4.49836 16.2001 3.45328 15.3139 2.58222C14.4277 1.71117 13.3708 1.03301 12.2096 0.590417C11.0485 0.147828 9.80831 -0.0496011 8.56715 0.0105571C7.32598 0.0707154 6.1107 0.387158 4.99782 0.939967C3.88493 1.49278 2.89853 2.26998 2.10071 3.22266C1.30289 4.17533 0.710918 5.28285 0.362065 6.4755C0.0132116 7.66815 -0.0849723 8.92011 0.0736937 10.1526C0.23236 11.385 0.64444 12.5713 1.284 13.6367L0.503995 16.2857C0.452724 16.4595 0.44926 16.6439 0.493969 16.8195C0.538678 16.9952 0.629905 17.1555 0.758048 17.2836C0.886192 17.4118 1.04651 17.503 1.22213 17.5477C1.39775 17.5924 1.58218 17.5889 1.756 17.5377L4.406 16.7577C5.47182 17.3951 6.65865 17.8038 7.891 17.9577C8.15422 17.9906 8.41973 17.9175 8.62912 17.7547C8.8385 17.5918 8.97461 17.3524 9.00749 17.0892C9.04038 16.826 8.96735 16.5604 8.80448 16.3511C8.6416 16.1417 8.40222 16.0056 8.139 15.9727C7.11378 15.845 6.12991 15.4904 5.259 14.9347C5.08709 14.8248 4.89366 14.7529 4.69168 14.7239C4.48971 14.6949 4.28387 14.7095 4.088 14.7667L2.936 15.1057L3.275 13.9537C3.395 13.5457 3.322 13.1197 3.107 12.7837C2.3909 11.6616 2.01157 10.3578 2.014 9.02668ZM18.014 13.5267C18.0139 12.7501 17.7556 11.9955 17.2796 11.3819C16.8036 10.7682 16.137 10.3303 15.3849 10.1371C14.6327 9.94385 13.8376 10.0063 13.1248 10.3145C12.4119 10.6228 11.8219 11.1594 11.4475 11.8398C11.0731 12.5202 10.9357 13.3058 11.0568 14.0729C11.178 14.84 11.5508 15.545 12.1166 16.077C12.6824 16.609 13.4091 16.9376 14.1822 17.0112C14.9553 17.0849 15.7309 16.8993 16.387 16.4837C16.6571 16.3119 16.9824 16.2493 17.297 16.3087C17.2373 15.9943 17.2995 15.6689 17.471 15.3987C17.8256 14.8387 18.0139 14.1895 18.014 13.5267ZM14.514 8.02668C15.4696 8.02661 16.4087 8.27549 17.2388 8.74882C18.0689 9.22214 18.7613 9.90357 19.2479 10.726C19.7345 11.5484 19.9984 12.4833 20.0137 13.4388C20.029 14.3942 19.7951 15.3372 19.335 16.1747L19.721 17.4857C19.772 17.6589 19.7754 17.8427 19.7308 18.0178C19.6862 18.1928 19.5953 18.3526 19.4676 18.4803C19.3399 18.608 19.1801 18.6989 19.0051 18.7435C18.8301 18.7881 18.6462 18.7847 18.473 18.7337L17.163 18.3477C16.4279 18.7513 15.6103 18.9815 14.7727 19.0207C13.935 19.0598 13.0995 18.907 12.33 18.5737C11.5604 18.2404 10.8773 17.7356 10.3328 17.0978C9.78833 16.4601 9.39688 15.7063 9.18841 14.894C8.97994 14.0817 8.95996 13.2326 9.13 12.4114C9.30004 11.5903 9.65561 10.8189 10.1695 10.1562C10.6834 9.49352 11.342 8.95713 12.095 8.58805C12.848 8.21896 13.6754 8.02694 14.514 8.02668Z"
							fill="#FFCF70"
						/>
					</svg>
					<p className="text-crocus-yellow text-xs">
						{props.commentsCount ?? 0}
					</p>
				</div>
			) : (
				<div
					className="flex items-center gap-[0.3125rem]"
					onClick={() => props.setIsCommentOpen?.(!props.isCommentOpen)}>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="21"
						height="20"
						viewBox="0 0 21 20"
						fill="none">
						<path
							fillRule="evenodd"
							clipRule="evenodd"
							d="M2.014 9.02668C2.01294 7.40139 2.57748 5.8264 3.61077 4.57186C4.64405 3.31732 6.08168 2.46143 7.67705 2.15101C9.27241 1.8406 10.9261 2.095 12.3544 2.87058C13.7827 3.64616 14.8966 4.89458 15.505 6.40168C15.6057 6.64577 15.7988 6.84014 16.0422 6.94238C16.2857 7.04462 16.5597 7.04643 16.8045 6.94741C17.0492 6.84839 17.2449 6.65659 17.3488 6.41384C17.4527 6.1711 17.4563 5.89712 17.359 5.65168C16.8964 4.49836 16.2001 3.45328 15.3139 2.58222C14.4277 1.71117 13.3708 1.03301 12.2096 0.590417C11.0485 0.147828 9.80831 -0.0496011 8.56715 0.0105571C7.32598 0.0707154 6.1107 0.387158 4.99782 0.939967C3.88493 1.49278 2.89853 2.26998 2.10071 3.22266C1.30289 4.17533 0.710918 5.28285 0.362065 6.4755C0.0132116 7.66815 -0.0849723 8.92011 0.0736937 10.1526C0.23236 11.385 0.64444 12.5713 1.284 13.6367L0.503995 16.2857C0.452724 16.4595 0.44926 16.6439 0.493969 16.8195C0.538678 16.9952 0.629905 17.1555 0.758048 17.2836C0.886192 17.4118 1.04651 17.503 1.22213 17.5477C1.39775 17.5924 1.58218 17.5889 1.756 17.5377L4.406 16.7577C5.47182 17.3951 6.65865 17.8038 7.891 17.9577C8.15422 17.9906 8.41973 17.9175 8.62912 17.7547C8.8385 17.5918 8.97461 17.3524 9.00749 17.0892C9.04038 16.826 8.96735 16.5604 8.80448 16.3511C8.6416 16.1417 8.40222 16.0056 8.139 15.9727C7.11378 15.845 6.12991 15.4904 5.259 14.9347C5.08709 14.8248 4.89366 14.7529 4.69168 14.7239C4.48971 14.6949 4.28387 14.7095 4.088 14.7667L2.936 15.1057L3.275 13.9537C3.395 13.5457 3.322 13.1197 3.107 12.7837C2.3909 11.6616 2.01157 10.3578 2.014 9.02668ZM18.014 13.5267C18.0139 12.7501 17.7556 11.9955 17.2796 11.3819C16.8036 10.7682 16.137 10.3303 15.3849 10.1371C14.6327 9.94385 13.8376 10.0063 13.1248 10.3145C12.4119 10.6228 11.8219 11.1594 11.4475 11.8398C11.0731 12.5202 10.9357 13.3058 11.0568 14.0729C11.178 14.84 11.5508 15.545 12.1166 16.077C12.6824 16.609 13.4091 16.9376 14.1822 17.0112C14.9553 17.0849 15.7309 16.8993 16.387 16.4837C16.6571 16.3119 16.9824 16.2493 17.297 16.3087C17.2373 15.9943 17.2995 15.6689 17.471 15.3987C17.8256 14.8387 18.0139 14.1895 18.014 13.5267ZM14.514 8.02668C15.4696 8.02661 16.4087 8.27549 17.2388 8.74882C18.0689 9.22214 18.7613 9.90357 19.2479 10.726C19.7345 11.5484 19.9984 12.4833 20.0137 13.4388C20.029 14.3942 19.7951 15.3372 19.335 16.1747L19.721 17.4857C19.772 17.6589 19.7754 17.8427 19.7308 18.0178C19.6862 18.1928 19.5953 18.3526 19.4676 18.4803C19.3399 18.608 19.1801 18.6989 19.0051 18.7435C18.8301 18.7881 18.6462 18.7847 18.473 18.7337L17.163 18.3477C16.4279 18.7513 15.6103 18.9815 14.7727 19.0207C13.935 19.0598 13.0995 18.907 12.33 18.5737C11.5604 18.2404 10.8773 17.7356 10.3328 17.0978C9.78833 16.4601 9.39688 15.7063 9.18841 14.894C8.97994 14.0817 8.95996 13.2326 9.13 12.4114C9.30004 11.5903 9.65561 10.8189 10.1695 10.1562C10.6834 9.49352 11.342 8.95713 12.095 8.58805C12.848 8.21896 13.6754 8.02694 14.514 8.02668Z"
							fill="#545454"
						/>
					</svg>
					<p className="text-[#555] text-xs">{props.commentsCount ?? 0}</p>
				</div>
			)}

			{/* Bookmark Icon - Only show if feature flag is enabled */}
			{props.showBookmarkIcon && (
				<div
					className="flex items-center gap-[0.3125rem] cursor-pointer"
					onClick={() => {
						const newBookmarked = !props.isBookmarked;
						props.setIsBookmarked?.(newBookmarked);
					}}>
					{props.isBookmarked ? (
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="20"
							height="18"
							viewBox="0 0 20 18"
							fill="none">
							<path
								d="M5 21V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V21L13.0815 17.1953C12.4227 16.7717 11.5773 16.7717 10.9185 17.1953L5 21Z"
								fill="#555555"
								stroke="#555555"
								strokeWidth="1.5"
								strokeLinecap="round"
								strokeLinejoin="round"
							/>
						</svg>
					) : (
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="20"
							height="18"
							viewBox="0 0 20 18"
							fill="none">
							<path
								d="M5 21V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V21L13.0815 17.1953C12.4227 16.7717 11.5773 16.7717 10.9185 17.1953L5 21Z"
								stroke="#545454"
								strokeWidth="1.5"
								strokeLinecap="round"
								strokeLinejoin="round"
							/>
						</svg>
					)}
				</div>
			)}
		</div>
	);
}

export { ActionBar };
